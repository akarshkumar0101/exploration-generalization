# python cluster_run.py /data/vision/phillipi/akumar01/exploration-generalization/atari/scripts/specialist.sh --mem-gpu 4000 --dir /data/vision/phillipi/akumar01/exploration-generalization/atari --servers visiongpu10.csail.mit.edu visiongpu11.csail.mit.edu visiongpu13.csail.mit.edu visiongpu14.csail.mit.edu visiongpu15.csail.mit.edu visiongpu16.csail.mit.edu visiongpu17.csail.mit.edu visiongpu18.csail.mit.edu --conda-env atari
# requires 4 GB of GPU memory

python_file: ppo_atari.py

--track: True
--project: egb-atari
--name: "specialist_{env_ids[0]}_{obj}_{seed}"

--device: cuda
--seed: [0]

--log-video: True
--log-hist: True

# --env-ids: [Alien, Amidar, Assault, Asterix, Asteroids, Atlantis, BankHeist, BattleZone, BeamRider, Berzerk, Bowling, Boxing, Breakout, Centipede, ChopperCommand, CrazyClimber, Defender, DemonAttack, DoubleDunk, Enduro, FishingDerby, Freeway, Frostbite, Gopher, Gravitar, Hero, IceHockey, Jamesbond, Kangaroo, Krull, KungFuMaster, MontezumaRevenge, MsPacman, NameThisGame, Phoenix, Pitfall, Pong, PrivateEye, Qbert, Riverraid, RoadRunner, Robotank, Seaquest, Skiing, Solaris, SpaceInvaders, StarGunner, Surround, Tennis, TimePilot, Tutankham, UpNDown, Venture, VideoPinball, WizardOfWor, YarsRevenge, Zaxxon]
--env-ids: [Asteroids, BankHeist, BattleZone, BeamRider, Berzerk, Boxing, Breakout, Centipede, ChopperCommand, CrazyClimber, Freeway, Frostbite, Gopher, Gravitar, Hero, Kangaroo, Krull, KungFuMaster, MontezumaRevenge, MsPacman, Pitfall, Pong, PrivateEye, Qbert, RoadRunner, Robotank, Seaquest, Solaris, SpaceInvaders, StarGunner, TimePilot, Tutankham, Venture, YarsRevenge, Zaxxon]
--obj: [ext, rnd]
--ctx-len: 4
--total-steps: 100e6
--n-envs: 128
--n-steps: 128

--batch-size: 4096
--n-updates: 16

--model: cnn
# --load-agent: 
--save-agent: "./data/{project}/{name}/"
--full-action-space: True

--lr: 2.5e-4
--lr-warmup: True
--lr-decay: "none"

--episodic-life: False
--norm-rew: True
--gamma: 0.99
--gae-lambda: 0.95
--norm-adv: True
--ent-coef: 0.001
--clip-coef: 0.1
--clip-vloss: True
--vf-coef: 0.5

--max-grad-norm: 1.0
# --max-kl-div:

--n-steps-rnd-init: 100e3
